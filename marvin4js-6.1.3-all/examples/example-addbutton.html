<!DOCTYPE html>

<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
	<title>Marvin-JS Example - Add custom button to the toolbar</title>
    <link type="text/css" rel="stylesheet" href="../css/doc.css" />
	<link type="text/css" rel="stylesheet" href="../js/lib/rainbow/github.css" />
	<script src="../js/lib/jquery-1.9.1.min.js"></script>
	<script src="../js/lib/rainbow/rainbow-custom.min.js"></script>
	<script src="../js/util.js"></script>
	<script>
		$(document).ready(function handleDocumentReady (e) {
			getMarvinPromise("#sketch").done(function (sketcherInstance) {
				var buttonAttributes = {
						'name' : "custom",
						'image-url' : "examples/images/custom-icon.png",
						'toolbar' : "W"
				};
				sketcherInstance.addButton(buttonAttributes, function() {
					alert('The custom button has been pushed.');
				});
			}).fail(function () {
				alert("Cannot retrieve sketcher instance from iframe");
			});
		});
	</script>
</head>
<body>
  	<h1>Marvin for JavaScript Example - Add custom button to the toolbar</h1>
    <div class="darkbox">
		<div class="resizable">
	    <iframe src="../editor.html" style="width: 100%; height:100%;" id="sketch" class="sketcher-frame"></iframe>
		</div>
	</div>
	<div>
		<p>Append a custom button to the toolbar at startup (the icon URL is relative to the editor.html document):</p>
		<pre><code data-language="javascript">$(document).ready(function handleDocumentReady (e) {
	getMarvinPromise("#sketch").done(function (sketcherInstance) {
		var buttonAttributes = {
			'name' : "custom",
			'image-url' : "examples/images/custom-icon.png",
			'toolbar' : "W"
		};
		sketcherInstance.addButton(buttonAttributes, function() {
			alert('The custom button has been pushed.');
		});
	}).fail(function () {
		alert("Cannot retrieve sketcher instance from iframe");
	});
});</code>
		</pre>
	</div>
  </body>
</html>
